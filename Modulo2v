




local module = {}

local coreGui = game:GetService("CoreGui")
local existingGui = coreGui:FindFirstChild("FoundationOverlay")
if existingGui then
    existingGui:Destroy()
end

local mainGui = Instance.new("ScreenGui")
mainGui.Parent = coreGui
print("how long did it take to load?")

local function addCorner(instance, radius)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, radius)
    corner.Parent = instance
end

local TweenService = game:GetService("TweenService")

local redondoContenedor = 8
local TransparenciaContenedordelElementos = 0.3
local TamanoContenedor = UDim2.new(1, 0, 0, 45)
local TransparenciaContenedor = 0.4

local FrameContenedor = Color3.fromRGB(255, 180, 70) -- amarillo tostado
local bordes = Color3.fromRGB(255, 130, 40) -- naranja quemado
local bordecuadro = Color3.fromRGB(220, 60, 30) -- rojo fuerte
local main = Color3.fromRGB(255, 100, 50) -- rojo-naranja principal
local ColorContenedordelElementos = Color3.fromRGB(255, 170, 80) -- naranja claro
local textcolor = Color3.fromRGB(80, 20, 0) -- marrón oscuro para contraste y calor visual

local sizeW, sizeH = 590, 300

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local request = http_request or request or syn.request or http.request
if not request then return warn("Request is not available") end

local deluxeUrl = "https://raw.githubusercontent.com/CapybaraScript/Deluxe-list/refs/heads/main/Deluxe"

local function getDeluxeList()
    local ok, res = pcall(function()
        return request({Url = deluxeUrl, Method = "GET"})
    end)
    if not (ok and res and res.Body) then
        warn("Failed to fetch deluxe list")
        return {}
    end

    local func, err = loadstring(res.Body)
    if not func then
        warn("Failed to load deluxe list: " .. tostring(err))
        return {}
    end

    local ok2, list = pcall(func)
    if not ok2 or type(list) ~= "table" then
        warn("Failed to execute deluxe list")
        return {}
    end

    print("Deluxe list loaded successfully")
    return list
end

local allowedUserIds = getDeluxeList()

function module:CreateUI(title, description, allowedUserIds)
    self.allowedUserIds = allowedUserIds or {}
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Parent = game:GetService("CoreGui")

local Sound = Instance.new("Sound",game:GetService("SoundService"))
 Sound.SoundId = "rbxassetid://9120129807"
 Sound:Play()
 
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, sizeW, 0, sizeH)
MainFrame.Position = UDim2.new(0.5, -sizeW / 2, 0.5, -sizeH / 2 - 30)
MainFrame.BackgroundColor3 = ColorContenedordelElementos
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.BackgroundTransparency = 0.6
addCorner(MainFrame, 7)

    local TopBar = Instance.new("Frame")
    TopBar.Size = UDim2.new(1, 0, 0, 30)
    TopBar.BackgroundColor3 = bordes
    TopBar.BorderSizePixel = 0
    TopBar.BackgroundTransparency = 0.5
    TopBar.ZIndex = 10
    TopBar.Parent = MainFrame
    addCorner(TopBar, 5)

local ResizeButton = Instance.new("TextButton", MainFrame)
ResizeButton.Size = UDim2.new(0, 20, 0, 20)
ResizeButton.Position = UDim2.new(1, -20, 1, -20)
ResizeButton.AnchorPoint = Vector2.new(0, 0)
ResizeButton.ZIndex = 15
ResizeButton.BackgroundTransparency = 0.6
ResizeButton.BackgroundColor3 = ColorContenedordelElementos
ResizeButton.Text = ""
ResizeButton.TextSize = 14
ResizeButton.Font = Enum.Font.Code
ResizeButton.TextColor3 = textcolor
ResizeButton.BorderSizePixel = 0
ResizeButton.AutoButtonColor = false

local dragging = false
local startPos
local startSize

local UserInputService = game:GetService("UserInputService")

local function beginDrag(input)
	dragging = true
	startPos = input.Position
	startSize = MainFrame.Size

	input.Changed:Connect(function()
		if input.UserInputState == Enum.UserInputState.End then
			dragging = false
		end
	end)
end

ResizeButton.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		beginDrag(input)
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
		local delta = input.Position - startPos
		MainFrame.Size = UDim2.new(
			startSize.X.Scale, math.max(100, startSize.X.Offset + delta.X),
			startSize.Y.Scale, math.max(100, startSize.Y.Offset + delta.Y)
		)
	end
end)

local backgroundOverlay = Instance.new("Frame")
backgroundOverlay.Size = UDim2.new(1, 0, 1, 0)
backgroundOverlay.Position = UDim2.new(0, 0, 0, 0)
backgroundOverlay.ZIndex = 18
backgroundOverlay.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
backgroundOverlay.BackgroundTransparency = 0.4
backgroundOverlay.Parent = MainFrame
backgroundOverlay.Visible = false
addCorner(backgroundOverlay, 8)

local confirmationFrame = Instance.new("Frame")
confirmationFrame.Size = UDim2.new(0, 300, 0, 150)
confirmationFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
confirmationFrame.BackgroundColor3 = FrameContenedor
confirmationFrame.BackgroundTransparency = 0.4
confirmationFrame.Parent = backgroundOverlay
confirmationFrame.ZIndex = 19
addCorner(confirmationFrame, 7)

local confirmationLabel = Instance.new("TextLabel")
confirmationLabel.Text = "Settings on the menu"
confirmationLabel.TextSize = 12
confirmationLabel.TextColor3 = textcolor
confirmationLabel.BackgroundTransparency = 1
confirmationLabel.Size = UDim2.new(1, 0, 0, 30)
confirmationLabel.ZIndex = 20
confirmationLabel.Parent = confirmationFrame

local separator = Instance.new("Frame")
separator.Size = UDim2.new(1, -20, 0, 1)
separator.Position = UDim2.new(0, 10, 0, 30)
separator.BackgroundColor3 = Color3.fromRGB(150, 150, 150)
separator.BorderSizePixel = 0
separator.ZIndex = 20
separator.Parent = confirmationFrame

local DestroyGUIButton = Instance.new("TextButton")
DestroyGUIButton.Size = UDim2.new(0, 26, 0, 27)
DestroyGUIButton.Position = UDim2.new(1, -70, 0, 0)
DestroyGUIButton.BackgroundTransparency = 0.5
DestroyGUIButton.BackgroundColor3 = bordecuadro
DestroyGUIButton.Text = "X"
DestroyGUIButton.ZIndex = 30
DestroyGUIButton.TextSize = 23
DestroyGUIButton.TextColor3 = textcolor
DestroyGUIButton.Font = Enum.Font.SourceSans
DestroyGUIButton.Parent = TopBar

local confi = Instance.new("TextButton")
confi.Size = UDim2.new(0, 26, 0, 27)
confi.Position = UDim2.new(1, -35, 0, 0)
confi.BackgroundTransparency = 0.5
confi.BackgroundColor3 = bordecuadro
confi.Text = "⚙️"
confi.ZIndex = 30
confi.TextSize = 16
confi.TextColor3 = Color3.fromRGB(255, 100, 100)
confi.Font = Enum.Font.SourceSans
confi.Parent = TopBar

addCorner(confi, 6)
addCorner(DestroyGUIButton, 6)

local ConfirmationOverlay = Instance.new("Frame")
ConfirmationOverlay.Size = UDim2.new(1, 0, 1, 0)
ConfirmationOverlay.Position = UDim2.new(0, 0, 0, 0)
ConfirmationOverlay.ZIndex = 18
ConfirmationOverlay.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
ConfirmationOverlay.BackgroundTransparency = 0.4
ConfirmationOverlay.Parent = MainFrame
ConfirmationOverlay.Visible = false

local ConfirmationWindow = Instance.new("Frame")
ConfirmationWindow.Size = UDim2.new(0, 300, 0, 150)
ConfirmationWindow.Position = UDim2.new(0.5, -150, 0.5, -75)
ConfirmationWindow.BackgroundColor3 = FrameContenedor
ConfirmationWindow.BackgroundTransparency = 0.4
ConfirmationWindow.Parent = ConfirmationOverlay
ConfirmationWindow.ZIndex = 19
addCorner(ConfirmationWindow, 7)

local ConfirmationText = Instance.new("TextLabel")
ConfirmationText.Text = "Are you sure you want to Destroy the GUI?"
ConfirmationText.TextSize = 10
ConfirmationText.TextColor3 = textcolor
ConfirmationText.BackgroundTransparency = 1
ConfirmationText.Size = UDim2.new(1, 0, 0, 50)
ConfirmationText.ZIndex = 20
ConfirmationText.Parent = ConfirmationWindow

local ConfirmDestroyButton = Instance.new("TextButton")
ConfirmDestroyButton.Text = "Yeah"
ConfirmDestroyButton.ZIndex = 20
ConfirmDestroyButton.TextSize = 16
ConfirmDestroyButton.TextColor3 = textcolor
ConfirmDestroyButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
ConfirmDestroyButton.Size = UDim2.new(0.5, -10, 0, 40)
ConfirmDestroyButton.Position = UDim2.new(0, 5, 1, -45)
ConfirmDestroyButton.Parent = ConfirmationWindow
addCorner(ConfirmDestroyButton, 4)

local CancelDestroyButton = Instance.new("TextButton")
CancelDestroyButton.Text = "No"
CancelDestroyButton.TextSize = 16
CancelDestroyButton.ZIndex = 20
CancelDestroyButton.TextColor3 = textcolor
CancelDestroyButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
CancelDestroyButton.Size = UDim2.new(0.5, -10, 0, 40)
CancelDestroyButton.Position = UDim2.new(0.5, 5, 1, -45)
CancelDestroyButton.Parent = ConfirmationWindow
addCorner(CancelDestroyButton, 4)

DestroyGUIButton.MouseButton1Click:Connect(function()
    ConfirmationOverlay.Visible = true
end)

ConfirmDestroyButton.MouseButton1Click:Connect(function()
    MainFrame:Destroy()
end)

CancelDestroyButton.MouseButton1Click:Connect(function()
    ConfirmationOverlay.Visible = false
end)

confi.MouseButton1Click:Connect(function()
    local sonido = Instance.new("Sound")
    sonido.SoundId = "rbxassetid://17208399163"
    sonido.Volume = 0.5
    sonido.PlayOnRemove = true
    sonido.Parent = confi
    sonido:Destroy()
    backgroundOverlay.Visible = not backgroundOverlay.Visible
end)

    local border = Instance.new("UIStroke")
    border.Parent = MainFrame
    border.Thickness = 2
    border.Color = bordes
    border.Transparency = 0.5

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FoundationOverlay"
screenGui.Parent = coreGui

local button = Instance.new("ImageButton")
local UICorner = Instance.new("UICorner")
local clickSound = Instance.new("Sound")

button.Name = "Button"
button.Size = UDim2.new(0, 40, 0, 40)
button.Position = UDim2.new(0.14, -64, 0.1, 34)
button.Image = "rbxthumb://type=Asset&id=93060775454762&w=150&h=150"
button.BackgroundTransparency = 0.7
button.Draggable = true
button.BorderSizePixel = 0
button.BackgroundColor3 = bordes
button.Parent = screenGui

local borderFrame = Instance.new("Frame")
borderFrame.Size = UDim2.new(1, 0, 1, 0)
borderFrame.Position = UDim2.new(0, 0, 0, 0)
borderFrame.BackgroundTransparency = 1
borderFrame.ZIndex = button.ZIndex + 1
borderFrame.Parent = button

local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = bordecuadro
borderStroke.Parent = borderFrame
addCorner(borderFrame, redondoContenedor)

UICorner.CornerRadius = UDim.new(0, 6)
UICorner.Parent = button

clickSound.SoundId = "rbxassetid://10066968815"
clickSound.Parent = button

local isActive = true
local function toggleButton()
	isActive = not isActive
	MainFrame.Visible = isActive
	clickSound:Play()
	button:TweenSize(UDim2.new(0, 65, 0, 55), Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.2, true)
	task.wait(0.2)
	button:TweenSize(UDim2.new(0, 40, 0, 40), Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.2, true)
	button.BackgroundTransparency = 0.3
	task.wait(2)
	button.BackgroundTransparency = 0.8
end

button.MouseButton1Click:Connect(toggleButton)

local UserInputService = game:GetService("UserInputService")
UserInputService.InputBegan:Connect(function(input, processed)
	if not processed and input.KeyCode == Enum.KeyCode.LeftControl then
		toggleButton()
	end
end)

    local Line = Instance.new("Frame")
    Line.Size = UDim2.new(1, 0, 0, 2)
    Line.Position = UDim2.new(0, 0, 0, 30)
    Line.BackgroundColor3 = bordes
    Line.BorderSizePixel = 0
    Line.ZIndex = 12
    Line.Parent = TopBar

    local TitleLabel = Instance.new("TextLabel")
    TitleLabel.Size = UDim2.new(0, 150, 1, 0)
    TitleLabel.Position = UDim2.new(0, 5, 0, 0)
    TitleLabel.BackgroundTransparency = 1
    TitleLabel.Text = title
    TitleLabel.ZIndex = 11
    TitleLabel.TextSize = 16
    TitleLabel.TextColor3 = textcolor
    TitleLabel.Font = Enum.Font.SourceSans
    TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
    TitleLabel.Parent = TopBar

    local DescriptionLabel = Instance.new("TextLabel")
    DescriptionLabel.Size = UDim2.new(0, 100, 1, 0)
    DescriptionLabel.Position = UDim2.new(1, -310, 0, 0)
    DescriptionLabel.BackgroundTransparency = 1
    DescriptionLabel.Text = description
    DescriptionLabel.TextSize = 14
    DescriptionLabel.ZIndex = 11
    DescriptionLabel.TextColor3 = textcolor 
    DescriptionLabel.Font = Enum.Font.SourceSans
    DescriptionLabel.TextXAlignment = Enum.TextXAlignment.Left
    DescriptionLabel.Parent = TopBar

    local TabsContainer = Instance.new("ScrollingFrame")
    TabsContainer.Size = UDim2.new(0.3, 0, 1, -33)
    TabsContainer.Position = UDim2.new(0, 0, 0, 33)
    TabsContainer.BackgroundColor3 = Color3.fromRGB(0, 140, 0)
    TabsContainer.BorderSizePixel = 0
    TabsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
    TabsContainer.ScrollBarThickness = 0
    TabsContainer.Parent = MainFrame
    TabsContainer.BackgroundTransparency = 1
    addCorner(TabsContainer, 5)

    local TabsListLayout = Instance.new("UIListLayout")
    TabsListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    TabsListLayout.Padding = UDim.new(0, 8)
    TabsListLayout.Parent = TabsContainer
    
    local padding = Instance.new("UIPadding")
padding.PaddingLeft = UDim.new(0, 4)
padding.PaddingRight = UDim.new(0, 4)
padding.Parent = TabsContainer

    TabsListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        TabsContainer.CanvasSize = UDim2.new(0, 0, 0, TabsListLayout.AbsoluteContentSize.Y)
    end)

    local Container = Instance.new("Frame")
    Container.Size = UDim2.new(0.7, 0, 1, -30)
    Container.Position = UDim2.new(0.3, 0, 0, 30)
    Container.BackgroundColor3 = Color3.fromRGB(0.1, 140, 0)
    Container.BorderSizePixel = 0
    Container.Parent = MainFrame
    Container.BackgroundTransparency = 1
    addCorner(Container, 5)

local allowedUserIds = getDeluxeList()
local player = game.Players.LocalPlayer

local function isPlayerDeluxe(plr)
    for _, id in ipairs(allowedUserIds) do
        if plr.UserId == id then
            return true
        end
    end
    return false
end

print("Local player data")
print("Name:", player.Name)
print("UserId:", player.UserId)
print("Is on the deluxe list?", isPlayerDeluxe(player) and "Yes!" or "No")

if isPlayerDeluxe(player) then
    print(player.Name .. " has deluxe access")
else
    print(player.Name .. " does not have deluxe access")
end
    
local Tab = {TabsContainer = TabsContainer, Container = Container}

function Tab:AddTab(requireDeluxe, imageId, tabName, imageColor)
    local tabButton = Instance.new("TextButton")
    tabButton.Size = UDim2.new(1, -10, 0, 40)
    tabButton.Text = ""
    tabButton.Font = Enum.Font.Gotham
    tabButton.TextSize = 15
    tabButton.BackgroundColor3 = main
    tabButton.TextColor3 = textcolor
    tabButton.BackgroundTransparency = TransparenciaContenedor
    tabButton.Parent = self.TabsContainer

    if imageId and imageId ~= "" then
        local icon = Instance.new("ImageLabel")
        icon.Size = UDim2.new(0, 24, 0, 24)
        icon.Position = UDim2.new(0, 8, 0.5, -12)
        icon.BackgroundTransparency = 1
        icon.Image = "rbxassetid://" .. imageId
        icon.ImageColor3 = imageColor or textcolor
        icon.ZIndex = tabButton.ZIndex + 1
        icon.Parent = tabButton

        local texto = Instance.new("TextLabel")
        texto.Size = UDim2.new(1, -40, 1, 0)
        texto.Position = UDim2.new(0, 36, 0, 0)
        texto.BackgroundTransparency = 1
        texto.Text = tabName
        texto.TextColor3 = textcolor
        texto.Font = Enum.Font.Gotham
        texto.TextSize = 15
        texto.TextXAlignment = Enum.TextXAlignment.Left
        texto.ZIndex = tabButton.ZIndex + 1
        texto.Parent = tabButton
    else
        tabButton.Text = tabName
        tabButton.TextXAlignment = Enum.TextXAlignment.Center
    end

    local borderFrame = Instance.new("Frame")
    borderFrame.Size = UDim2.new(1, 0, 1, 0)
    borderFrame.Position = UDim2.new(0, 0, 0, 0)
    borderFrame.BackgroundTransparency = 1
    borderFrame.ZIndex = tabButton.ZIndex + 1
    borderFrame.Parent = tabButton

    local borderStroke = Instance.new("UIStroke")
    borderStroke.Thickness = 2
    borderStroke.Color = bordecuadro
    borderStroke.Parent = borderFrame
    addCorner(borderFrame, redondoContenedor)
    addCorner(tabButton, 6)

    local tabFrame = Instance.new("Frame")
    tabFrame.Size = UDim2.new(1, 0, 1, -15)
    tabFrame.Position = UDim2.new(0, 0, 0, 1)
    tabFrame.BackgroundColor3 = Color3.fromRGB(0, 140, 0)
    tabFrame.BackgroundTransparency = 1
    tabFrame.Visible = false
    tabFrame.Parent = self.Container
    addCorner(tabFrame, 5)

    local frameScroll = Instance.new("ScrollingFrame")
    frameScroll.Size = UDim2.new(1, -10, 1, 2)
    frameScroll.Position = UDim2.new(0, 5, 0, 5)
    frameScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
    frameScroll.ScrollBarThickness = 0
    frameScroll.BackgroundColor3 = Color3.fromRGB(0, 140, 0)
    frameScroll.BackgroundTransparency = 1
    frameScroll.ScrollingDirection = Enum.ScrollingDirection.Y
    frameScroll.Parent = tabFrame
    addCorner(frameScroll, 5)

    local buttonLayout = Instance.new("UIListLayout")
    buttonLayout.Padding = UDim.new(0, 8)
    buttonLayout.SortOrder = Enum.SortOrder.LayoutOrder
    buttonLayout.Parent = frameScroll

    local padding = Instance.new("UIPadding")
    padding.PaddingLeft = UDim.new(0, 4)
    padding.PaddingRight = UDim.new(0, 4)
    padding.Parent = frameScroll

    buttonLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        frameScroll.CanvasSize = UDim2.new(0, 0, 0, buttonLayout.AbsoluteContentSize.Y)
    end)

    local function animarBrillo()
        local brillo = Instance.new("Frame")
        brillo.Size = UDim2.new(1, 0, 1, 0)
        brillo.Position = tabButton.Position
        brillo.BackgroundColor3 = Color3.fromRGB(169, 169, 169)
        brillo.BackgroundTransparency = 0
        brillo.Parent = tabButton
        addCorner(brillo, 5)

        local tweenInfoMove = TweenInfo.new(1, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, 0, false)
        local tweenInfoTransparency = TweenInfo.new(0.5, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, 0, false)

        local goalMove = {Position = UDim2.new(-1, 0, 0, 0)}
        local goalTransparency = {BackgroundTransparency = TransparenciaContenedor}

        local tweenMove = TweenService:Create(brillo, tweenInfoMove, goalMove)
        local tweenTransparency = TweenService:Create(brillo, tweenInfoTransparency, goalTransparency)

        tweenMove:Play()
        tweenTransparency:Play()

        tweenMove.Completed:Connect(function()
            brillo:Destroy()
        end)
    end

    tabButton.MouseButton1Click:Connect(function()
        animarBrillo()
        local sonido = Instance.new("Sound")
        sonido.SoundId = "rbxassetid://16480549841"
        sonido.Volume = 0.5
        sonido.PlayOnRemove = true
        sonido.Parent = tabButton
        sonido:Destroy()

        for _, button in pairs(self.TabsContainer:GetChildren()) do
            if button:IsA("TextButton") then
                button.BackgroundColor3 = main
            end
        end
        tabButton.BackgroundColor3 = FrameContenedor

        for _, frame in pairs(self.Container:GetChildren()) do
            if frame:IsA("Frame") then
                frame.Visible = false
            end
        end
        tabFrame.Visible = true
    end)

    if requireDeluxe then
        local Players = game:GetService("Players")
        local LocalPlayer = Players.LocalPlayer
        if not isPlayerDeluxe(LocalPlayer) then
            local overlay = Instance.new("Frame")
            overlay.Size = UDim2.new(1, 0, 1, 0)
            overlay.Active = true
            overlay.BackgroundColor3 = Color3.new(0, 0, 0)
            overlay.BackgroundTransparency = 0.5
            overlay.ZIndex = tabFrame.ZIndex + 1
            overlay.Parent = tabFrame

            local label = Instance.new("TextLabel")
            label.Size = UDim2.new(1, 0, 0, 30)
            label.Position = UDim2.new(0, 0, 0.5, -15)
            label.BackgroundTransparency = 1
            label.Text = "Deluxe only"
            label.TextColor3 = Color3.fromRGB(243, 156, 18)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 20
            label.ZIndex = overlay.ZIndex + 1
            label.Parent = overlay
        end
    end

    return frameScroll
end

return Tab
end

function module.addButton(container, buttonText, descriptionText, callback)
    local button = Instance.new("TextButton")
    button.Size = TamanoContenedor
    button.Text = buttonText
    button.TextSize = 12
    button.BackgroundTransparency = TransparenciaContenedor
    button.Font = Enum.Font.Gotham
    button.BackgroundColor3 = FrameContenedor
    button.TextColor3 = textcolor
    button.Parent = container
    addCorner(button, redondoContenedor)

    local borderFrame = Instance.new("Frame")
    borderFrame.Size = UDim2.new(1, 0, 1, 0)
    borderFrame.Position = UDim2.new(0, 0, 0, 0)
    borderFrame.BackgroundTransparency = 1
    borderFrame.ZIndex = button.ZIndex + 1
    borderFrame.Parent = button

    local borderStroke = Instance.new("UIStroke")
    borderStroke.Thickness = 2
    borderStroke.Color = bordecuadro
    borderStroke.Parent = borderFrame
    addCorner(borderFrame, redondoContenedor)

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -10, 0, 20)
    label.Position = UDim2.new(0, 0, 0, button.TextBounds.Y + 8)
    label.Text = descriptionText or ""
    label.TextSize = 9
    label.Font = Enum.Font.Gotham
    label.BackgroundTransparency = 1
    label.TextColor3 = textcolor
    label.Parent = button

    local imageLabel = Instance.new("ImageLabel")
    imageLabel.Size = UDim2.new(0, 40, 0, 40)
    imageLabel.Position = UDim2.new(0, 5, 0, (button.Size.Y.Offset - imageLabel.Size.Y.Offset) / 2)
    imageLabel.Image = "rbxassetid://96343770545453"
    imageLabel.BackgroundTransparency = 1
    imageLabel.Parent = button

    local tweenService = game:GetService("TweenService")
    local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out, 0, false, 0)
    local goal = {BackgroundColor3 = textcolor}

    local originalColor = button.BackgroundColor3

    local function onButtonClick()
        local tween = tweenService:Create(button, tweenInfo, goal)
        tween:Play()

        tween.Completed:Connect(function()
            task.wait(0.1)
            button.BackgroundColor3 = originalColor
        end)

        local sonido = Instance.new("Sound")
        sonido.SoundId = "rbxassetid://99437156604053"
        sonido.Volume = 0.5
        sonido.PlayOnRemove = true
        sonido.Parent = button
        sonido:Destroy()

        callback()
    end

    button.MouseButton1Click:Connect(onButtonClick)

    return button, label
end

function isPlayerDeluxe(player)
    for _, id in ipairs(getgenv().allowedUserIds or {}) do
        if player.UserId == id then
            return true
        end
    end
    return false
end

function module.addToggle(container, labelText, descriptionText, defaultState, callback, premiumOnly)
    local Players = game:GetService("Players")
    local player = Players.LocalPlayer

    local function isPlayerDeluxe(plr)
        for _, id in ipairs(getgenv().allowedUserIds or {}) do
            if plr.UserId == id then
                return true
            end
        end
        return false
    end

    local toggleFrame = Instance.new("Frame")
    toggleFrame.Size = TamanoContenedor
    toggleFrame.BackgroundColor3 = FrameContenedor
    toggleFrame.Parent = container
    toggleFrame.BackgroundTransparency = TransparenciaContenedor
    addCorner(toggleFrame, redondoContenedor)

    local borderFrame = Instance.new("Frame")
    borderFrame.Size = UDim2.new(1, 0, 1, 0)
    borderFrame.Position = UDim2.new(0, 0, 0, 0)
    borderFrame.BackgroundTransparency = 1
    borderFrame.ZIndex = toggleFrame.ZIndex - 1
    borderFrame.Parent = toggleFrame

    local borderStroke = Instance.new("UIStroke")
    borderStroke.Thickness = 2
    borderStroke.Color = bordecuadro
    borderStroke.Parent = borderFrame
    addCorner(borderFrame, redondoContenedor)

    local toggleLabel = Instance.new("TextLabel")
    toggleLabel.Size = UDim2.new(1, -60, 1, 0)
    toggleLabel.Position = UDim2.new(0, 10, 0, 0)
    toggleLabel.Text = labelText
    toggleLabel.TextSize = 13
    toggleLabel.Font = Enum.Font.Gotham
    toggleLabel.TextColor3 = textcolor
    toggleLabel.BackgroundTransparency = 1
    toggleLabel.TextXAlignment = Enum.TextXAlignment.Left
    toggleLabel.Parent = toggleFrame

    if premiumOnly then
        local deluxeLabel = Instance.new("TextLabel")
        deluxeLabel.Size = UDim2.new(0, 50, 0, 15)
        deluxeLabel.Position = UDim2.new(0, 10 + toggleLabel.TextBounds.X + 10, 0.5, -7)
        deluxeLabel.Text = "Deluxe"
        deluxeLabel.TextSize = 11
        deluxeLabel.Font = Enum.Font.GothamSemibold
        deluxeLabel.TextColor3 = Color3.fromRGB(255, 140, 0)
        deluxeLabel.BackgroundTransparency = 1
        deluxeLabel.Parent = toggleLabel
    end

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -10, 0, 24)
    label.Position = UDim2.new(0, 10, 0, 22)
    label.Text = descriptionText or ""
    label.TextSize = 9
    label.Font = Enum.Font.Gotham
    label.BackgroundTransparency = 1
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.TextColor3 = Color3.fromRGB(200, 200, 200)
    label.Parent = toggleFrame

    local toggleButton = Instance.new("TextButton")
    toggleButton.Size = UDim2.new(0, 45, 0, 25)
    toggleButton.Position = UDim2.new(1, -70, 0.5, -10)
    toggleButton.BackgroundTransparency = 0.3
    toggleButton.BackgroundColor3 = ColorContenedordelElementos
    toggleButton.Text = ""
    toggleButton.AutoButtonColor = false
    toggleButton.Parent = toggleFrame
    addCorner(toggleButton, 9)

    local toggleIndicator = Instance.new("Frame")
    toggleIndicator.Size = UDim2.new(0, 15, 0, 15)
    toggleIndicator.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    toggleIndicator.Parent = toggleButton
    addCorner(toggleIndicator, 6)

    local function updateToggle(state)
        if not toggleIndicator:IsDescendantOf(game) then
            toggleIndicator.AncestryChanged:Wait()
        end
        task.defer(function()
            if toggleIndicator:IsDescendantOf(game) then
                pcall(function()
                    toggleIndicator:TweenPosition(
                        UDim2.new(state and 1 or 0, state and -20 or 2, 0.5, -9),
                        Enum.EasingDirection.Out,
                        Enum.EasingStyle.Quad,
                        0.2,
                        true
                    )
                    toggleIndicator.BackgroundColor3 = state and Color3.fromRGB(50, 255, 50) or Color3.fromRGB(255, 50, 50)
                end)
            end
        end)
        if state and premiumOnly and not isPlayerDeluxe(player) then
            defaultState = false
            updateToggle(false)
            player:Kick("Access denied: You're not authorized to use this feature.")
            return
        end
        pcall(function()
            callback(state)
        end)
    end

    toggleButton.MouseButton1Click:Connect(function()
        if premiumOnly and not isPlayerDeluxe(player) then
            return
        end
        local sonido = Instance.new("Sound")
        sonido.SoundId = "rbxassetid://99437156604053"
        sonido.Volume = 0.5
        sonido.PlayOnRemove = true
        sonido.Parent = toggleButton
        sonido:Destroy()
        defaultState = not defaultState
        updateToggle(defaultState)
    end)

    updateToggle(defaultState)

    local count = 0
    for _, child in ipairs(container:GetChildren()) do
        if child:IsA("Frame") then
            count = count + 1
        end
    end
    if count % 4 == 0 then
        task.wait(0.2)
    end

    return toggleFrame, label
end

function module.addColorPicker(container, labelText, defaultColor, callback)
    local ColorPicker = Instance.new("Frame")
    ColorPicker.Size = TamanoContenedor
    ColorPicker.BackgroundColor3 = FrameContenedor
    ColorPicker.BackgroundTransparency = TransparenciaContenedor
    ColorPicker.Parent = container

    local borderFrame = Instance.new("Frame")
    borderFrame.Size = UDim2.new(1, 0, 1, 0)
    borderFrame.BackgroundTransparency = 1
    borderFrame.ZIndex = ColorPicker.ZIndex + 1
    borderFrame.Parent = ColorPicker

    local borderStroke = Instance.new("UIStroke")
    borderStroke.Thickness = 2
    borderStroke.Color = bordecuadro
    borderStroke.Parent = borderFrame

    addCorner(ColorPicker, redondoContenedor)
    addCorner(borderFrame, redondoContenedor)

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(0.3, 0, 1, 0)
    label.Position = UDim2.new(0, 10, 0, 0)
    label.Text = labelText
    label.TextColor3 = textcolor
    label.BackgroundTransparency = 1
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Font = Enum.Font.Gotham
    label.TextSize = 15
    label.Parent = ColorPicker

    local pickerFrame = Instance.new("Frame")
    pickerFrame.Size = UDim2.new(0, 120, 0, 30)
    pickerFrame.AnchorPoint = Vector2.new(1, 0)
    pickerFrame.Position = UDim2.new(1, -10, 0, 5)
    pickerFrame.BackgroundColor3 = defaultColor or Color3.fromRGB(0, 140, 0)
    pickerFrame.BackgroundTransparency = 0.1
    pickerFrame.BorderSizePixel = 2
    pickerFrame.BorderColor3 = Color3.fromRGB(80, 80, 80)
    pickerFrame.Parent = ColorPicker

    addCorner(pickerFrame, 6)

    local openButton = Instance.new("TextButton")
    openButton.Size = UDim2.new(1, 0, 1, 0)
    openButton.Text = ""
    openButton.BackgroundTransparency = 1
    openButton.Parent = pickerFrame

    local colorPickerPopup = Instance.new("Frame")
    colorPickerPopup.Size = UDim2.new(0, 300, 0, 150)
    colorPickerPopup.Position = UDim2.new(0.5, -150, 0.5, -75)
    colorPickerPopup.BackgroundColor3 = Color3.fromRGB(128, 0, 128)
    colorPickerPopup.BackgroundTransparency = 0.6
    colorPickerPopup.BorderSizePixel = 2
    colorPickerPopup.BorderColor3 = Color3.fromRGB(100, 100, 100)
    colorPickerPopup.Visible = false
    colorPickerPopup.Parent = container

    addCorner(colorPickerPopup, 8)

    local colorWheel = Instance.new("ImageLabel")
    colorWheel.Size = UDim2.new(0, 150, 0, 150)
    colorWheel.Position = UDim2.new(0.5, -75, 0, 10)
    colorWheel.Image = "rbxassetid://142488478"
    colorWheel.BackgroundTransparency = 1
    colorWheel.Active = true
    colorWheel.Parent = colorPickerPopup

    local colorSelector = Instance.new("Frame")
    colorSelector.Size = UDim2.new(0, 10, 0, 10)
    colorSelector.BackgroundColor3 = textcolor
    colorSelector.BorderSizePixel = 2
    colorSelector.Parent = colorWheel

    addCorner(colorSelector, 5)

    local confirmButton = Instance.new("TextButton")
    confirmButton.Size = UDim2.new(0.5, -5, 0, 30)
    confirmButton.Position = UDim2.new(0, 5, 1, -40)
    confirmButton.Text = "Confirm"
    confirmButton.Font = Enum.Font.Gotham
    confirmButton.TextSize = 14
    confirmButton.TextColor3 = textcolor
    confirmButton.BackgroundColor3 = ColorContenedordelElementos
    confirmButton.BorderSizePixel = 0
    confirmButton.Parent = colorPickerPopup

    addCorner(confirmButton, 5)

    local rainbowButton = Instance.new("TextButton")
    rainbowButton.Size = UDim2.new(0.5, -5, 0, 30)
    rainbowButton.Position = UDim2.new(0.5, 0, 1, -40)
    rainbowButton.Text = "Rainbow"
    rainbowButton.Font = Enum.Font.Gotham
    rainbowButton.TextSize = 14
    rainbowButton.TextColor3 = textcolor
    rainbowButton.BackgroundColor3 = ColorContenedordelElementos
    rainbowButton.BorderSizePixel = 0
    rainbowButton.Parent = colorPickerPopup

    addCorner(rainbowButton, 5)

    local rainbowActive = false
    local rainbowConnection

    local function updateColor(input)
        local pos = input.Position
        local rel = colorWheel.AbsolutePosition
        local x = math.clamp((pos.X - rel.X) / colorWheel.AbsoluteSize.X, 0, 1)
        local y = math.clamp((pos.Y - rel.Y) / colorWheel.AbsoluteSize.Y, 0, 1)

        colorSelector.Position = UDim2.new(x, -5, y, -5)
        local selected = Color3.fromHSV(x, 1 - y, 1)
        pickerFrame.BackgroundColor3 = selected

        if callback then
            callback(selected)
        end
    end

    colorWheel.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            updateColor(input)
            local moving
            moving = game:GetService("UserInputService").InputChanged:Connect(function(m)
                if m.UserInputType == Enum.UserInputType.MouseMovement or m.UserInputType == Enum.UserInputType.Touch then
                    updateColor(m)
                end
            end)
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End and moving then
                    moving:Disconnect()
                end
            end)
        end
    end)

    confirmButton.MouseButton1Click:Connect(function()
        colorPickerPopup.Visible = false
        if callback then
            callback(pickerFrame.BackgroundColor3)
        end
    end)

    rainbowButton.MouseButton1Click:Connect(function()
        rainbowActive = not rainbowActive
        rainbowButton.BackgroundColor3 = rainbowActive and Color3.fromRGB(60, 0, 120) or ColorContenedordelElementos

        if rainbowActive then
            local step = 0
            rainbowConnection = game:GetService("RunService").RenderStepped:Connect(function(dt)
                step = (step + dt * 0.1) % 1
                local color = Color3.fromHSV(step, 1, 1)
                pickerFrame.BackgroundColor3 = color
                if callback then callback(color) end
            end)
        else
            if rainbowConnection then
                rainbowConnection:Disconnect()
                rainbowConnection = nil
            end
        end
    end)

    openButton.MouseButton1Click:Connect(function()
        colorPickerPopup.Visible = not colorPickerPopup.Visible
    end)

    return ColorPicker
end

function module.addSlider(container, name, descriptionText, minValue, maxValue, defaultValue, callback)
    local sliderFrame = Instance.new("Frame")
    sliderFrame.Size = TamanoContenedor
    sliderFrame.BackgroundColor3 = FrameContenedor
    sliderFrame.BackgroundTransparency = TransparenciaContenedor
    sliderFrame.Parent = container
    addCorner(sliderFrame, redondoContenedor)

    local borderFrame = Instance.new("UIStroke")
    borderFrame.Thickness = 2
    borderFrame.Color = bordecuadro
    borderFrame.Parent = sliderFrame
    addCorner(borderFrame, redondoContenedor)

    local sliderLabel = Instance.new("TextLabel")
    sliderLabel.Size = UDim2.new(1, -90, 0, 20)
    sliderLabel.Position = UDim2.new(0, 10, 0, 5)
    sliderLabel.Text = name
    sliderLabel.Font = Enum.Font.Gotham
    sliderLabel.TextSize = 13
    sliderLabel.TextColor3 = textcolor
    sliderLabel.TextXAlignment = Enum.TextXAlignment.Left
    sliderLabel.BackgroundTransparency = 1
    sliderLabel.Parent = sliderFrame

    local sliderTextBox = Instance.new("TextBox")
    sliderTextBox.Size = UDim2.new(0, 60, 0, 20)
    sliderTextBox.Position = UDim2.new(1, -70, 0, 5)
    sliderTextBox.Text = tostring(defaultValue)
    sliderTextBox.Font = Enum.Font.Gotham
    sliderTextBox.TextSize = 18
    sliderTextBox.TextColor3 = textcolor
    sliderTextBox.TextXAlignment = Enum.TextXAlignment.Center
    sliderTextBox.BackgroundColor3 = ColorContenedordelElementos
    sliderTextBox.BackgroundTransparency = TransparenciaContenedordelElementos
    sliderTextBox.ClearTextOnFocus = false
    sliderTextBox.Parent = sliderFrame
    addCorner(sliderTextBox, 6)
    
    local label = Instance.new("TextLabel")
label.Size = UDim2.new(1, -10, 0, 24)
label.Position = UDim2.new(0, 10, 0, 22)
label.Text = descriptionText or ""
label.TextSize = 9
label.Font = Enum.Font.Gotham
label.BackgroundTransparency = 1
label.TextXAlignment = Enum.TextXAlignment.Left
label.TextColor3 = textcolor
label.Parent = sliderFrame

    local sliderTrack = Instance.new("Frame")
    sliderTrack.Size = UDim2.new(0, 120, 0, 6)
    sliderTrack.Position = UDim2.new(1, -10, 0, 30)
    sliderTrack.AnchorPoint = Vector2.new(1, 0)
    sliderTrack.BackgroundColor3 = ColorContenedordelElementos
    sliderTrack.BackgroundTransparency = TransparenciaContenedordelElementos
    sliderTrack.Parent = sliderFrame
    addCorner(sliderTrack, 6)

    local sliderFill = Instance.new("Frame")
    sliderFill.Size = UDim2.new(0, 0, 1, 0)
    sliderFill.Position = UDim2.new(0, 0, 0, 0)
    sliderFill.BackgroundColor3 = main
    sliderFill.BackgroundTransparency = TransparenciaContenedordelElementos
    sliderFill.ZIndex = 1
    sliderFill.Parent = sliderTrack
    addCorner(sliderFill, 6)

    local sliderThumb = Instance.new("Frame")
    sliderThumb.Size = UDim2.new(0, 12, 0, 12)
    sliderThumb.AnchorPoint = Vector2.new(0.5, 0.5)
    sliderThumb.BackgroundColor3 = textcolor
    sliderThumb.Position = UDim2.new(0, 0, 0.5, 0)
    sliderThumb.ZIndex = 2
    sliderThumb.Parent = sliderTrack
    addCorner(sliderThumb, 6)

    local function update(value)
    value = math.clamp(value, minValue, maxValue)
    local ratio = (value - minValue) / (maxValue - minValue)
    sliderFill.Size = UDim2.new(ratio, 0, 1, 0)
    sliderThumb.Position = UDim2.new(ratio, 0, 0.5, 0)
    sliderTextBox.Text = string.format("%.2f", value)
    callback(value)
end

    sliderTrack.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            local moveConn
            local function move(input)
                local x = (input.Position.X - sliderTrack.AbsolutePosition.X) / sliderTrack.AbsoluteSize.X
                x = math.clamp(x, 0, 1)
                update(minValue + x * (maxValue - minValue))
            end
            move(input)
            moveConn = game:GetService("UserInputService").InputChanged:Connect(function(input2)
                if input2.UserInputType == Enum.UserInputType.MouseMovement or input2.UserInputType == Enum.UserInputType.Touch then
                    move(input2)
                end
            end)
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    moveConn:Disconnect()
                end
            end)
        end
    end)

sliderTextBox.FocusLost:Connect(function()
    local val = tonumber(sliderTextBox.Text)
    if val then
        update(val)
    else
        update(defaultValue)
    end
end)

    update(defaultValue)
end

local TweenService = game:GetService("TweenService")

function module.addDropdown(container, labelText, buttonText, options, callback)
    local Dropdown = Instance.new("Frame")
    Dropdown.Size = TamanoContenedor
    Dropdown.BackgroundTransparency = TransparenciaContenedor
    Dropdown.BackgroundColor3 = FrameContenedor
    Dropdown.Parent = container
    addCorner(Dropdown, redondoContenedor)
    Dropdown.ClipsDescendants = true

    local borderStroke = Instance.new("UIStroke")
    borderStroke.Thickness = 2
    borderStroke.Color = bordecuadro
    borderStroke.Parent = Dropdown

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(0.3, 0, 0, 30)
    label.Position = UDim2.new(0, 10, 0, 0)
    label.Text = labelText
    label.Font = Enum.Font.Gotham
    label.TextSize = 13
    label.TextColor3 = textcolor
    label.BackgroundTransparency = 1
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Parent = Dropdown

    local dropdownButton = Instance.new("TextButton")
    dropdownButton.Size = UDim2.new(0, 120, 0, 30)
    dropdownButton.Position = UDim2.new(1, -130, 0, 0)
    dropdownButton.AnchorPoint = Vector2.new(0, 0)
    dropdownButton.Text = buttonText
    dropdownButton.Font = Enum.Font.Gotham
    dropdownButton.TextSize = 13
    dropdownButton.TextColor3 = textcolor
    dropdownButton.BackgroundColor3 = ColorContenedordelElementos
    dropdownButton.BackgroundTransparency = TransparenciaContenedordelElementos
    dropdownButton.Parent = Dropdown
    addCorner(dropdownButton, 5)

    local arrow = Instance.new("TextLabel")
    arrow.Size = UDim2.new(0, 20, 1, 0)
    arrow.Position = UDim2.new(1, -20, 0, 0)
    arrow.BackgroundTransparency = 1
    arrow.Text = "˅"
    arrow.Font = Enum.Font.Gotham
    arrow.TextSize = 14
    arrow.TextColor3 = textcolor
    arrow.Parent = dropdownButton

    local dropdownList = Instance.new("Frame")
    dropdownList.Size = UDim2.new(1, 0, 0, 0)
    dropdownList.Position = UDim2.new(0, 0, 0, 30)
    dropdownList.BackgroundColor3 = ColorContenedordelElementos
    dropdownList.BackgroundTransparency = 0.3
    dropdownList.Parent = Dropdown
    addCorner(dropdownList, 5)

    local scrollFrame = Instance.new("ScrollingFrame")
    scrollFrame.Size = UDim2.new(1, 0, 1, 0)
    scrollFrame.BackgroundTransparency = 1
    scrollFrame.ScrollBarThickness = 0
    scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
    scrollFrame.Parent = dropdownList

    local layout = Instance.new("UIListLayout")
    layout.Parent = scrollFrame
    layout.Padding = UDim.new(0, 2)

    local function updateDropdownSize()
        task.wait()
        local contentY = layout.AbsoluteContentSize.Y
        scrollFrame.CanvasSize = UDim2.new(0, 0, 0, contentY)
        return math.min(contentY, 120)
    end

    dropdownButton.MouseButton1Click:Connect(function()
        if dropdownList.Size.Y.Offset > 0 then
            local tween = TweenService:Create(Dropdown, TweenInfo.new(0.25), {Size = UDim2.new(TamanoContenedor.X.Scale, TamanoContenedor.X.Offset, 0, TamanoContenedor.Y.Offset)})
            tween:Play()
            tween.Completed:Wait()
            dropdownList.Size = UDim2.new(1, 0, 0, 0)
            arrow.Text = "˅"
        else
            local newSize = updateDropdownSize()
            local tween = TweenService:Create(Dropdown, TweenInfo.new(0.25), {Size = UDim2.new(TamanoContenedor.X.Scale, TamanoContenedor.X.Offset, 0, TamanoContenedor.Y.Offset + newSize + 6)})
            tween:Play()
            dropdownList.Size = UDim2.new(1, 0, 0, newSize)
            arrow.Text = "˄"
        end
    end)

    local function createDropdownOptions(options)
        for _, v in pairs(scrollFrame:GetChildren()) do
            if v:IsA("TextButton") then
                v:Destroy()
            end
        end

        for _, option in ipairs(options) do
            local button = Instance.new("TextButton")
            button.Size = UDim2.new(1, 0, 0, 30)
            button.Text = option
            button.Font = Enum.Font.Gotham
            button.TextSize = 14
            button.TextColor3 = textcolor
            button.BackgroundColor3 = ColorContenedordelElementos
            button.BackgroundTransparency = TransparenciaContenedordelElementos
            button.Parent = scrollFrame
            addCorner(button, 4)

            button.MouseEnter:Connect(function()
                button.BackgroundColor3 = Color3.fromRGB(150, 100, 255)
            end)
            button.MouseLeave:Connect(function()
                button.BackgroundColor3 = ColorContenedordelElementos
            end)

            button.MouseButton1Click:Connect(function()
                dropdownButton.Text = option
                local tween = TweenService:Create(Dropdown, TweenInfo.new(0.25), {Size = UDim2.new(TamanoContenedor.X.Scale, TamanoContenedor.X.Offset, 0, TamanoContenedor.Y.Offset)})
                tween:Play()
                tween.Completed:Wait()
                dropdownList.Size = UDim2.new(1, 0, 0, 0)
                arrow.Text = "˅"
                if callback then callback(option) end
            end)
        end

        updateDropdownSize()
    end

    createDropdownOptions(options)

    function module.updateDropdownOptions(newOptions)
        createDropdownOptions(newOptions)
    end

    updateDropdownSize()
end

function module.addTextbox(container, labelText, placeholderText, defaultText, callback)
local textboxFrame = Instance.new("Frame")
textboxFrame.Size = TamanoContenedor
textboxFrame.BackgroundTransparency = TransparenciaContenedor
textboxFrame.Parent = container

    local borderFrame = Instance.new("Frame")
borderFrame.Size = UDim2.new(1, 0, 1, 0)
borderFrame.Position = UDim2.new(0, 0, 0, 0)
borderFrame.BackgroundTransparency = 1
borderFrame.ZIndex = textboxFrame.ZIndex -1
borderFrame.Parent = textboxFrame

local borderStroke = Instance.new("UIStroke")
borderStroke.Thickness = 2
borderStroke.Color = bordecuadro
borderStroke.Parent = borderFrame
addCorner(textboxFrame, redondoContenedor)

addCorner(borderFrame, redondoContenedor)
local label = Instance.new("TextLabel")
label.Size = UDim2.new(0, 100, 1, 0)
label.Position = UDim2.new(0, 10, 0, 0)
label.Text = labelText
label.TextSize = 13
label.Font = Enum.Font.Gotham
label.TextXAlignment = Enum.TextXAlignment.Left
label.TextColor3 = textcolor
label.BackgroundTransparency = 1
label.Parent = textboxFrame

local textBox = Instance.new("TextBox")
textBox.Size = UDim2.new(0, 120, 0, 30)
textBox.AnchorPoint = Vector2.new(1, 0)
textBox.Position = UDim2.new(1, -10, 0, 5)
textBox.Text = defaultText
textBox.PlaceholderText = placeholderText
textBox.Font = Enum.Font.Gotham
textBox.TextSize = 14
textBox.ClearTextOnFocus = false
textBox.TextWrapped = true
textBox.BackgroundTransparency = TransparenciaContenedordelElementos
textBox.TextColor3 = textcolor
textBox.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
textBox.Parent = textboxFrame

textBox.BackgroundColor3 = ColorContenedordelElementos
textBox.TextColor3 = textcolor
textboxFrame.BackgroundColor3 = FrameContenedor
addCorner(textBox, 5)

textBox.FocusLost:Connect(function(enterPressed)
        if enterPressed and callback then
            callback(textBox.Text)
        end
    end)
end

function module.addParagraph(container, text)
    local paragraphFrame = Instance.new("Frame")
    paragraphFrame.Size = TamanoContenedor
    paragraphFrame.BackgroundTransparency = 1
    paragraphFrame.Parent = container

    local paragraphLabel = Instance.new("TextLabel")
    paragraphLabel.Size = UDim2.new(1, -20, 1, 0)
    paragraphLabel.Position = UDim2.new(0, 10, 0, 0)
    paragraphLabel.Text = text
    paragraphLabel.TextWrapped = true
    paragraphLabel.TextScaled = false
    paragraphLabel.TextSize = 13
    paragraphLabel.TextColor3 = textcolor
    paragraphLabel.BackgroundTransparency = 1
    paragraphLabel.TextXAlignment = Enum.TextXAlignment.Left
    paragraphLabel.TextYAlignment = Enum.TextYAlignment.Top
    paragraphLabel.Parent = paragraphFrame
end

function module.addSection(container, title)
local section = Instance.new("Frame")
section.Size = UDim2.new(1, 0, 0, 36)
section.BackgroundTransparency = 0.4
section.BackgroundColor3 = FrameContenedor
section.Parent = container
addCorner(section, 5)

    local sectionLabel = Instance.new("TextLabel")
    sectionLabel.Size = UDim2.new(0, 200, 1, 0)
    sectionLabel.Position = UDim2.new(0.5, -100, 0, 0)
    sectionLabel.Text = title or "Section"
    sectionLabel.TextColor3 = textcolor
    sectionLabel.Font = Enum.Font.GothamBold
    sectionLabel.TextSize = 13
    sectionLabel.BackgroundTransparency = 1
    sectionLabel.TextXAlignment = Enum.TextXAlignment.Center
    sectionLabel.Parent = section
end

function module.addLabel(container, text)
    local labelFrame = Instance.new("Frame")
    labelFrame.Size = TamanoContenedor
    labelFrame.BackgroundColor3 = FrameContenedor
    labelFrame.BackgroundTransparency = 0.8
    labelFrame.Parent = container

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -8, 1, -10)
    label.Position = UDim2.new(0, 10, 0, 0)
    label.Text = text
    label.Font = Enum.Font.GothamBold
    label.TextSize = 12
    label.TextColor3 = textcolor
    label.BackgroundTransparency = 1
    label.Parent = labelFrame
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 8)
    corner.Parent = labelFrame

    local labelObject = {
        Label = label
    }

    function labelObject:Set(newText)
        self.Label.Text = newText
    end

    return labelObject 
end

function module.addKeybind(container, text, defaultKey, callback)
    local UIS = game:GetService("UserInputService")

    local KeybindFrame = Instance.new("Frame")
    KeybindFrame.Name = "KeybindFrame"
    KeybindFrame.Parent = container
    KeybindFrame.Position = UDim2.new(0, 10, 0, 0)
    KeybindFrame.BackgroundColor3 = FrameContenedor
    KeybindFrame.Size = TamanoContenedor
    KeybindFrame.BackgroundTransparency = TransparenciaContenedor
    addCorner(KeybindFrame, redondoContenedor)

    local borderFrame = Instance.new("Frame")
    borderFrame.Size = UDim2.new(1, 0, 1, 0)
    borderFrame.Position = UDim2.new(0, 0, 0, 0)
    borderFrame.BackgroundTransparency = 1
    borderFrame.ZIndex = KeybindFrame.ZIndex - 1
    borderFrame.Parent = KeybindFrame

    local borderStroke = Instance.new("UIStroke")
    borderStroke.Thickness = 2
    borderStroke.Color = bordecuadro
    borderStroke.Parent = borderFrame
    addCorner(borderFrame, redondoContenedor)

    local KeybindTitle = Instance.new("TextLabel")
    KeybindTitle.Name = "KeybindTitle"
    KeybindTitle.Parent = KeybindFrame
    KeybindTitle.BackgroundColor3 = textcolor
    KeybindTitle.BackgroundTransparency = 1
    KeybindTitle.Position = UDim2.new(0, 15, 0, 0)
    KeybindTitle.Size = UDim2.new(0, 300, 0, 45)
    KeybindTitle.Font = Enum.Font.Gotham
    KeybindTitle.Text = text
    KeybindTitle.TextColor3 = textcolor
    KeybindTitle.TextSize = 13
    KeybindTitle.TextXAlignment = Enum.TextXAlignment.Left

    local KeybindButton = Instance.new("TextButton")
    KeybindButton.Name = "KeybindButton"
    KeybindButton.Parent = KeybindFrame
    KeybindButton.BackgroundColor3 = ColorContenedordelElementos
    KeybindButton.AnchorPoint = Vector2.new(1, 0)
    KeybindButton.Position = UDim2.new(1, -10, 0, 5)
    KeybindButton.Size = UDim2.new(0, 120, 0, 30)
    KeybindButton.Font = Enum.Font.Gotham
    KeybindButton.Text = defaultKey.Name
    KeybindButton.BackgroundTransparency = TransparenciaContenedordelElementos
    KeybindButton.TextColor3 = textcolor
    KeybindButton.TextSize = 13
    addCorner(KeybindButton, 5)

    local listening = false
    local currentKey = defaultKey

    KeybindButton.MouseButton1Click:Connect(function()
        listening = true
        KeybindButton.Text = "Press a key..."
    end)

    UIS.InputBegan:Connect(function(input, gameProcessed)
        if listening and not gameProcessed and input.UserInputType == Enum.UserInputType.Keyboard then
            currentKey = input.KeyCode
            KeybindButton.Text = currentKey.Name
            callback(currentKey)
            listening = false
        elseif not listening and input.KeyCode == currentKey then
            callback(currentKey)
        end
    end)
end

return module
